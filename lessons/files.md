# Files

[Official documentation](https://docs.python.org/3/library/functions.html#open)

To operate with files first the file needs to be open with `open()` function.

## File descriptor

File descriptor is a token, generated by the operating system, that allows programs to do more operations with he file.
In Python, this file descriptor is stored as an attribute of the files object.

## Iterating through files

Is possible to iterate through the file line by line:

Examples:

```python
with open("file.txt") as file:
    for line in file:
        print(line.strip()) # Will print the content of the file line by line erasing the tabs and empty lines.
```

## Modes

Modes are similar to file permissions. It governs what is possible to do with the open file.
By default, `open()` uses the `'r'` mode, which stands for "read only".

- 'r': read only (don't need to pass as an argument)
- 'w': write only. If the files does not exists, it creates it. If he file exits, its current content will be **deleted and overwritten**.
- 'x': creation only. If the file already exists this will fail.
- 'a': append. Appends content at the end of the open file.
- 'b': binary mode. Open the file in binary mode.
- 't': text mode (default).
- 'r+': read-write mode. Lets read and oeverwrite the open file.

## Read files

Using the method `open()`

```python
file = open("file.txt")
```

## Write files

Examples:

```python
with open("file.txt", "w") as file:
    file.write("Text to append.")
# it returns a number that shows the number of characters in the file.#
XX
```

## with statement

The with statement is used to wrap the execution of a block with methods defined by a context manager.
`with` statement block lets open and manipulte a file and then close it without calling the `.close()` method.

Examples:

```python
with open("file.txt") as file:
    print(file.readline())

# Without using with statement
file = open('file.txt', 'w')
file.readline()
file.close()
```

## Methods

### .close()

```python
file = open("file.txt")
file.close() # Will close the file interaction
```

### .read()

Read a file from the current position until the end of the file.

Examples:

```python
file = open("file.txt")
print(file.read()) # Will print all of the content of the file from where the .read() method is actually on. In this case, from the start of the file.
```

### .readline()

Reads a single line of the file from the current position.

Examples:

```python
file = open("file.txt")
print(file.readline()) # Will print the first line of the file
print(file.readline()) # This time, will print the next line from the above of the file
```

### .readlines()

Examples:

```python
file = open("file.txt")
lines = file.readlines()
file.close()
# Even if the file is close, the lines are stored in the `lines` variable
lines.sort()
print(lines) # Will print each line of the file in a list separated by commas
# ['firs line\n', 'second line\n', 'third line\n', ...]
```

## os module

### Remove a file

Must import first the os module. If the file does not exists it will raise a Traceback error.

Examples:

```python
import os
os.remove("file.txt")
```

### Rename file

As removing a file, first its important to import the os module. If the file does not exist, it will throw an error.

Examples:

```python
import os
os.rename("file.txt", "new_name.txt")
```

### os.path module

#### .abspath()

Will return the absolute path of the file.

Examples:

```python
import os
print(os.path.abspath("file.txt"))
```

#### .exists()

Using the module os.path, it is possible to use the `.exists()` function that will return a boolean if file exists or not.

Examples:

```python
import os
os.path.exists("file.txt") # If exists, it will return True
```

#### .getmtime()

Check the last time the file was modified returning its Unix timestamp (Unix timestamp represents the time in seconds since the January 1st of 1970).

Examples:

```python
import os
os.path.getmtime("file.txt") # i.e. 1612616.125325
```

#### .getsize()

Get the size of the file in bytes

Examples:

```python
import os
os.path.getsize("file.txt") # Will return the size of the file in bytes i.e. 92
```

## datetime module

Examples:

```python
import os
import datetime
timestamp = os.path.getmtime("file.txt")
print(datetime.datetime.fromtimestamp(timestamp)) # datetime.datetime(2023, 1, 6, 7, 2, 3, 899999)
```
